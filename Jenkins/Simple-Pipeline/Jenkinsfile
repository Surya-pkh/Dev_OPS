pipeline {
    agent any
    environment {
        RECIPIENT = 'gcpsurya27@gmail.com'
    }
    stages {
        stage('Checkout') {
            steps {
                checkout scm
            }
        }
        stage('Run Script') {
            steps {
                sh 'bash Jenkins/Sample.sh'
            }
        }
    }
    post {
        success {
            emailext subject: "✅ Build Successful: ${env.JOB_NAME}",
                     body: "The build ${env.BUILD_NUMBER} completed successfully.",
                     to: "${env.RECIPIENT}"
        }
        failure {
            emailext subject: "❌ Build Failed: ${env.JOB_NAME}",
                     body: "The build ${env.BUILD_NUMBER} failed. Check Jenkins for logs.",
                     to: "${env.RECIPIENT}"
        }
    }
}
